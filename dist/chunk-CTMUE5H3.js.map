{"version":3,"sources":["../src/voting/Voting.ts"],"sourcesContent":["import Member from \"../Member.js\"\nimport Serverbench from \"../Serverbench.js\"\nimport ListingDisplay from \"./ListingDisplay.js\"\n\nexport default class Voting {\n\n    private readonly client: Serverbench\n\n    constructor(client: Serverbench) {\n        this.client = client\n    }\n\n    public subscribe(member: Member, callback = (display: ListingDisplay|null, ban?: Date) => { }) {\n        const { ws, dispose } = this.client.socket(`listing.display.${member.id}`, (data) => {\n            if(data.ban){\n                return callback(null, new Date(data.ban))\n            }\n            callback(ListingDisplay.fromObject(this.client, data))\n        })\n        return dispose\n    }\n\n}"],"mappings":"wCAIA,IAAqBA,EAArB,KAA4B,CAIxB,YAAYC,EAAqB,CAC7B,KAAK,OAASA,CAClB,CAEO,UAAUC,EAAgBC,EAAW,CAACC,EAA8BC,IAAe,CAAE,EAAG,CAC3F,GAAM,CAAE,GAAAC,EAAI,QAAAC,CAAQ,EAAI,KAAK,OAAO,OAAO,mBAAmBL,EAAO,EAAE,GAAKM,GAAS,CACjF,GAAGA,EAAK,IACJ,OAAOL,EAAS,KAAM,IAAI,KAAKK,EAAK,GAAG,CAAC,EAE5CL,EAASM,EAAe,WAAW,KAAK,OAAQD,CAAI,CAAC,CACzD,CAAC,EACD,OAAOD,CACX,CAEJ","names":["Voting","client","member","callback","display","ban","ws","dispose","data","ListingDisplay"]}