{"version":3,"sources":["../src/store/Store.ts"],"sourcesContent":["import Element from \"../element/Element.js\";\r\nimport Member from \"../Member.js\";\r\nimport type Serverbench from \"../Serverbench.js\";\r\nimport IDiscount from \"./IDiscount.js\";\r\nimport ISkuPrice from \"./ISkuPrice.js\";\r\nimport type IStore from \"./IStore.js\";\r\n\r\nexport default class Store {\r\n\r\n    private client: Serverbench\r\n\r\n    constructor(client: Serverbench) {\r\n        this.client = client\r\n    }\r\n\r\n    async get(username?: string, eid?: string) {\r\n        return (await this.client.post('community', '/store/view', {\r\n            username,\r\n            eid\r\n        })) as IStore\r\n    }\r\n\r\n    checkout(prices: ISkuPrice[] | string[], discounts: IDiscount[] | string[], member: Member | string) {\r\n        const finalPrices = prices.map(price => typeof price === 'string' ? price : price.id)\r\n        const finalDiscounts = discounts.map(discount => typeof discount === 'string' ? discount : discount.id)\r\n        const finalMember = typeof member === 'string' ? member : member.id\r\n        return new Element(\r\n            this.client,\r\n            '/community/checkout',\r\n            {\r\n                prices: finalPrices.join(','),\r\n                discounts: finalDiscounts.join(','),\r\n                member: finalMember\r\n            }\r\n        )\r\n    }\r\n\r\n    billing() {\r\n        return new Element(this.client, '/billing')\r\n    }\r\n\r\n}"],"mappings":"wCAOA,IAAqBA,EAArB,KAA2B,CAIvB,YAAYC,EAAqB,CAC7B,KAAK,OAASA,CAClB,CAEA,MAAM,IAAIC,EAAmBC,EAAc,CACvC,OAAQ,MAAM,KAAK,OAAO,KAAK,YAAa,cAAe,CACvD,SAAAD,EACA,IAAAC,CACJ,CAAC,CACL,CAEA,SAASC,EAAgCC,EAAmCC,EAAyB,CACjG,IAAMC,EAAcH,EAAO,IAAII,GAAS,OAAOA,GAAU,SAAWA,EAAQA,EAAM,EAAE,EAC9EC,EAAiBJ,EAAU,IAAIK,GAAY,OAAOA,GAAa,SAAWA,EAAWA,EAAS,EAAE,EAChGC,EAAc,OAAOL,GAAW,SAAWA,EAASA,EAAO,GACjE,OAAO,IAAIM,EACP,KAAK,OACL,sBACA,CACI,OAAQL,EAAY,KAAK,GAAG,EAC5B,UAAWE,EAAe,KAAK,GAAG,EAClC,OAAQE,CACZ,CACJ,CACJ,CAEA,SAAU,CACN,OAAO,IAAIC,EAAQ,KAAK,OAAQ,UAAU,CAC9C,CAEJ","names":["Store","client","username","eid","prices","discounts","member","finalPrices","price","finalDiscounts","discount","finalMember","Element"]}